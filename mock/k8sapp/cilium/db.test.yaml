# Runtime integration
containerRuntime:
  integration: crio

# CNI configuration
cni:
  exclusive: true     # Let Cilium manage all pod networking
  chainingMode: none  # No chaining with other CNIs

# IP Address Management (IPAM)
ipam:
  mode: kubernetes    # Standard mode for most clusters

# Enable Hubble (Ciliumâ€™s observability layer)
hubble:
  enabled: false      # You can set to true later if you want flow visibility

# Network policies (safe defaults)
policyEnforcementMode: default  # Enforce only when policies exist

# Disable kube-proxy replacement for simplicity
kubeProxyReplacement: "disabled"

# Enable automatic restarts when configuration changes
rollOutCiliumPods: true

---

# --- Runtime integration ---
containerRuntime:
  integration: crio

# --- CNI settings ---
cni:
  exclusive: true        # Cilium manages all pod networking
  chainingMode: none     # No chaining with other CNIs

# --- IP Address Management ---
ipam:
  mode: kubernetes        # Use Kubernetes CRDs for IP allocation

# --- Network policy enforcement ---
policyEnforcementMode: default   # Enforce only when policies exist

# --- kube-proxy replacement ---
kubeProxyReplacement: "disabled"  # Keep kube-proxy active for simplicity

# --- Hubble observability ---
hubble:
  enabled: true
  relay:
    enabled: true           # Enables the relay (aggregates flow data)
  ui:
    enabled: true           # Enables Hubble UI (accessible as a service)
  metrics:
    enabled:
      - dns
      - drop
      - tcp
      - flow
      - port-distribution
      - icmp

# --- Resource management ---
rollOutCiliumPods: true
